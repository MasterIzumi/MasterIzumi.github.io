<!doctype html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="Izumi&#39;s Notepad">
<meta property="og:url" content="https://masterizumi.github.io/index.html">
<meta property="og:site_name" content="Izumi&#39;s Notepad">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Izumi&#39;s Notepad">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://masterizumi.github.io/"/>





  <title>Izumi's Notepad</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Izumi's Notepad</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://masterizumi.github.io/2017/10/09/loam_velodyne_for_hdl32e/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Izumi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/izumi.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Izumi's Notepad">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/09/loam_velodyne_for_hdl32e/" itemprop="url">修改loam_velodyne使其能够兼容HDL-32E</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-10-09T10:35:53+08:00">
                2017-10-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h1><p>LOAM是一个激光雷达SLAM算法，由<a href="http://www.frc.ri.cmu.edu/~jizhang03/" target="_blank" rel="external">Ji Zhang</a>博士等提出并实现。然而Github上的公开Repo，<a href="https://github.com/laboshinl/loam_velodyne" target="_blank" rel="external">loam_velodyne</a>，原工程仅支持Velodyne VLP-16型多线激光雷达，无法直接使用32线等运行算法。这里我们参考原Repo中的<a href="https://github.com/laboshinl/loam_velodyne/issues/10" target="_blank" rel="external">Issue #10</a>对工程进行修改，使其能够支持HDL-32E。</p>
<h1 id="1-安装loam-velodyne"><a href="#1-安装loam-velodyne" class="headerlink" title="1.安装loam_velodyne"></a>1.安装loam_velodyne</h1><p>直接按照<a href="https://github.com/laboshinl/loam_velodyne" target="_blank" rel="external">loam_velodyne</a>主页的指示来即可。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ cd ~/catkin_ws/src/</div><div class="line">$ git clone https://github.com/laboshinl/loam_velodyne.git</div><div class="line">$ cd ~/catkin_ws</div><div class="line">$ catkin_make -DCMAKE_BUILD_TYPE=Release</div></pre></td></tr></table></figure></p>
<h1 id="2-修改工程"><a href="#2-修改工程" class="headerlink" title="2.修改工程"></a>2.修改工程</h1><h2 id="修改scanRegistration-cpp"><a href="#修改scanRegistration-cpp" class="headerlink" title="修改scanRegistration.cpp"></a>修改<code>scanRegistration.cpp</code></h2><p>首先修改代码，使用点云类型<code>velodyne_pointcloud::PointXYZIR</code>，将每一线激光构造成一个scan，拥有一个<code>scanID</code>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">std::vector&lt;int&gt; scanStartInd(N_SCANS, 0);</div><div class="line">std::vector&lt;int&gt; scanEndInd(N_SCANS, 0);</div><div class="line">double timeScanCur = laserCloudMsg-&gt;header.stamp.toSec();</div><div class="line">pcl::PointCloud&lt;pcl::PointXYZI&gt; laserCloudIn;</div><div class="line">pcl::PointCloud&lt;velodyne_pointcloud::PointXYZIR&gt; laserCloudIn_vel;</div><div class="line"></div><div class="line">pcl::fromROSMsg(*laserCloudMsg, laserCloudIn);</div><div class="line">pcl::fromROSMsg(*laserCloudMsg, laserCloudIn_vel);</div><div class="line"></div><div class="line">std::vector&lt;int&gt; indices;</div><div class="line">pcl::removeNaNFromPointCloud(laserCloudIn, laserCloudIn, indices);</div><div class="line"></div><div class="line">int cloudSize = laserCloudIn.points.size();</div><div class="line">float startOri = -atan2(laserCloudIn.points[0].y, laserCloudIn.points[0].x);</div><div class="line">float endOri = -atan2(laserCloudIn.points[cloudSize - 1].y,</div><div class="line">                      laserCloudIn.points[cloudSize - 1].x) + 2 * M_PI;</div><div class="line"></div><div class="line">if (endOri - startOri &gt; 3 * M_PI) &#123;</div><div class="line">  endOri -= 2 * M_PI;</div><div class="line">&#125; else if (endOri - startOri &lt; M_PI) &#123;</div><div class="line">  endOri += 2 * M_PI;</div><div class="line">&#125;</div><div class="line">bool halfPassed = false;</div><div class="line">int count = cloudSize;</div><div class="line">PointType point;</div><div class="line">std::vector&lt;pcl::PointCloud&lt;PointType&gt; &gt; laserCloudScans(N_SCANS);</div><div class="line">for (int i = 0; i &lt; cloudSize; i++) &#123;</div><div class="line">  point.x = laserCloudIn.points[i].y;</div><div class="line">  point.y = laserCloudIn.points[i].z;</div><div class="line">  point.z = laserCloudIn.points[i].x;</div><div class="line"></div><div class="line">  int scanID;</div><div class="line"> /* float angle = atan2(point.y,sqrt(point.x * point.x + point.z * point.z)) * 180 / M_PI;</div><div class="line">  int roundedAngle = int(angle + (angle&lt;0.0?-0.5:+0.5)); </div><div class="line">  std::cout &lt;&lt; angle &lt;&lt; std::endl;</div><div class="line">  if (roundedAngle &gt; 0)&#123;</div><div class="line">    scanID = roundedAngle;</div><div class="line">  &#125;</div><div class="line">  else &#123;</div><div class="line">    scanID = roundedAngle + (N_SCANS - 1);</div><div class="line">  &#125;*/</div><div class="line">  scanID = laserCloudIn_vel.points[indices[i]].ring;</div><div class="line">  if (scanID &gt; (N_SCANS - 1) || scanID &lt; 0 )&#123;</div><div class="line">    count--;</div><div class="line">    continue;</div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<p>修改数组大小，<a href="http://www.velodynelidar.com/hdl-32e.html" target="_blank" rel="external">HDL-32E</a>一次扫描会产生70000个点，故将数组大小定为100000:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">float cloudCurvature[100000];</div><div class="line">int cloudSortInd[100000];</div><div class="line">int cloudNeighborPicked[100000];</div><div class="line">int cloudLabel[100000];</div></pre></td></tr></table></figure></p>
<p>修改<code>N_SCANS</code>为32:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">N_SCANS = 32;</div></pre></td></tr></table></figure></p>
<p>增加<code>velodyne_pointcloud::PointXYZIR</code>所需的头文件:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#include &lt;velodyne_pointcloud/point_types.h&gt; </div><div class="line">#include &lt;velodyne_pointcloud/rawdata.h&gt;</div></pre></td></tr></table></figure></p>
<h2 id="修改CMakeLists-txt和package-xml"><a href="#修改CMakeLists-txt和package-xml" class="headerlink" title="修改CMakeLists.txt和package.xml"></a>修改<code>CMakeLists.txt</code>和<code>package.xml</code></h2><p>在<code>CMakeLists.txt</code>中:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">find_package(</div><div class="line">...</div><div class="line">velodyne_pointcloud</div><div class="line"></div><div class="line">)</div></pre></td></tr></table></figure></p>
<p>在<code>package.xml</code>中增加:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;build_depend&gt;velodyne_pointcloud&lt;/build_depend&gt;</div><div class="line">...</div><div class="line">...</div><div class="line">&lt;run_depend&gt;velodyne_pointcloud&lt;/run_depend&gt;</div></pre></td></tr></table></figure></p>
<h1 id="3-安装Velodyne驱动"><a href="#3-安装Velodyne驱动" class="headerlink" title="3.安装Velodyne驱动"></a>3.安装Velodyne驱动</h1><p>安装Velodyne的ROS驱动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install ros-indigo-velodyne</div><div class="line">$ cd ~/catkin_ws/src/</div><div class="line">$ git clone https://github.com/ros-drivers/velodyne.git</div><div class="line">$ cd ~/catkin_ws</div><div class="line">$ catkin_make</div></pre></td></tr></table></figure></p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p><a href="https://github.com/laboshinl/loam_velodyne/issues/10" target="_blank" rel="external">https://github.com/laboshinl/loam_velodyne/issues/10</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://masterizumi.github.io/2017/07/05/QCA6174Driver_installation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Izumi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/izumi.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Izumi's Notepad">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/05/QCA6174Driver_installation/" itemprop="url">Install driver for QCA6174 Wi-Fi Driver</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-07-05T21:31:57+08:00">
                2017-07-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>I have an Asus Strix X99 Gaming motherboard but the wifi module doesn’t work well. In fact, there are some problems with the given driver in the system, so I need to install a correct one instead.  </p>
<ul>
<li>Download QCA6174.zip in this repo.</li>
<li>Replace the folder /lib/firmware/ath10k/QCA6174 with the correct one.</li>
<li>Give every .bin file authority.</li>
<li><p>Reload the wifi driver by using </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo rmmod ath10k_pci</div><div class="line">sudo modprobe -v ath10k_pci</div></pre></td></tr></table></figure>
</li>
<li><p>Finally, reboot your computer</p>
</li>
</ul>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p><a href="http://tieba.baidu.com/p/4432452892?pid=86241326901&amp;cid=0#86241326901" target="_blank" rel="external">http://tieba.baidu.com/p/4432452892?pid=86241326901&amp;cid=0#86241326901</a></p>
<blockquote>
<p>592g网卡是QCA6174，ubuntu带的驱动有问题。<br>下载这个文件 <a href="http://pan.baidu.com/s/1c1H5Hz6" target="_blank" rel="external">http://pan.baidu.com/s/1c1H5Hz6</a> 提取码：dsp5。<br>解压出来的QCA6174文件夹在root权限下放在/lib/firmware/ath10k/文件夹里，bin文件权限改成755。然后重载驱动，重启<br>给bin文件加上x属性 命令是sudo chmod 755 *.bin 用以下两个命令重载网卡驱动： sudo rmmod ath10k_pci sudo modprobe -v ath10k_pci 重启  </p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://masterizumi.github.io/2017/07/05/Notations_for_installing_opencv3_1_0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Izumi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/izumi.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Izumi's Notepad">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/05/Notations_for_installing_opencv3_1_0/" itemprop="url">Notations for installing OpenCV 3.1.0</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-07-05T21:31:57+08:00">
                2017-07-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Installing-Dependencies"><a href="#Installing-Dependencies" class="headerlink" title="Installing Dependencies"></a>Installing Dependencies</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[compiler] sudo apt-get install build-essential  </div><div class="line">[required] sudo apt-get install cmake git libgtk2.0-dev pkg-config libavcodec-dev libavformat-dev libswscale-dev  </div><div class="line">[optional] sudo apt-get install python-dev python-numpy libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff-dev libjasper-dev libdc1394-22-dev</div></pre></td></tr></table></figure>
<h1 id="Getting-Source-Code"><a href="#Getting-Source-Code" class="headerlink" title="Getting Source Code"></a>Getting Source Code</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cd ~/&lt;my_working_directory&gt;  </div><div class="line">git clone https://github.com/Itseez/opencv.git  </div><div class="line">git clone https://github.com/Itseez/opencv_contrib.git</div></pre></td></tr></table></figure>
<p>Then, checkout to version 3.1.0.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git checkout 3.1.0</div></pre></td></tr></table></figure>
<p>Both opencv and opencv_contrib must <strong>be synchronized</strong>.</p>
<h1 id="Compile"><a href="#Compile" class="headerlink" title="Compile"></a>Compile</h1><p>Using the following command to build with modules from opencv_contrib and avoid some bugs.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local -D INSTALL_C_EXAMPLES=ON -D INSTALL_PYTHON_EXAMPLES=ON -D OPENCV_EXTRA_MODULES_PATH=~/Toolsets/opencv_contrib/modules -D WITH_LIBV4L=ON -D WITH_V4L=OFF -D BUILD_EXAMPLES=ON ..</div></pre></td></tr></table></figure></p>
<h1 id="Epilogue"><a href="#Epilogue" class="headerlink" title="Epilogue"></a>Epilogue</h1><p>There are many errors when I was building OpenCV 3.1.0. It seems that all the errors are from opencv_contrib. You can search these errors in google, and nearly all of them are issued in github. Thus, you can lookup the issues and find the changes of the code in corresponding commits.</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>docs.opencv.org/3.1.0/d7/d9f/tutorial_linux_install.html</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://masterizumi.github.io/2017/07/05/solve_cannot_find_libs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Izumi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/izumi.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Izumi's Notepad">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/05/solve_cannot_find_libs/" itemprop="url">Solve "cannot open shared object file xxx"</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-07-05T21:31:57+08:00">
                2017-07-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>在运行使用g2o库的程序时，出现如下错误<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ error while loading shared libraries: libg2o_core.so: cannot open shared object file: No such file or directory</div></pre></td></tr></table></figure></p>
<p>这个错误的意思是找不到libg2o_core.so这个共享库，实际上在安装g2o时将文件放在了/usr/local/lib下。但是由于没有配置参数，系统没法到这个目录下查找，所以在运行时报错。  </p>
<h1 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h1><p>创建一个文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$sudo vim /etc/ld.so.conf.d/g2o.conf</div></pre></td></tr></table></figure></p>
<p>只用输入一行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/local/lib</div></pre></td></tr></table></figure></p>
<p>保存，退出。运行命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo ldconfig -v</div></pre></td></tr></table></figure></p>
<p>搞定。再运行程序时，就可以找到这个.so了。  </p>
<p>如果不知道在那里找.so文件，可以使用find指令，例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find /usr/ -name libg2o_core.so -print</div></pre></td></tr></table></figure></p>
<p>如果该文件在/usr下，则会显示出其路径位置。</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul>
<li><a href="http://stackoverflow.com/questions/12335848/opencv-program-compile-error-libopencv-core-so-2-4-cannot-open-shared-object-f" target="_blank" rel="external">http://stackoverflow.com/questions/12335848/opencv-program-compile-error-libopencv-core-so-2-4-cannot-open-shared-object-f</a>  </li>
<li><a href="http://www.cnblogs.com/Anker/p/3209876.html" target="_blank" rel="external">http://www.cnblogs.com/Anker/p/3209876.html</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://masterizumi.github.io/2017/07/05/cartographer_installation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Izumi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/izumi.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Izumi's Notepad">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/05/cartographer_installation/" itemprop="url">Cartographer Installation</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-07-05T21:31:57+08:00">
                2017-07-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Dependencies"><a href="#Dependencies" class="headerlink" title="Dependencies"></a>Dependencies</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install -y google-mock libboost-all-dev  libeigen3-dev libgflags-dev libgoogle-glog-dev liblua5.2-dev libprotobuf-dev  libsuitesparse-dev libwebp-dev ninja-build protobuf-compiler python-sphinx  ros-indigo-tf2-eigen libatlas-base-dev libsuitesparse-dev liblapack-dev</div></pre></td></tr></table></figure>
<h1 id="Ceres-solver"><a href="#Ceres-solver" class="headerlink" title="Ceres solver"></a>Ceres solver</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">git clone https://github.com/hitcm/ceres-solver-1.11.0.git  </div><div class="line">cd ceres-solver-1.11.0/build  </div><div class="line">cmake ..  </div><div class="line">make –j  </div><div class="line">sudo make install</div></pre></td></tr></table></figure>
<h1 id="Cartographer"><a href="#Cartographer" class="headerlink" title="Cartographer"></a>Cartographer</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">git clone https://github.com/hitcm/cartographer.git  </div><div class="line">cd cartographer/build  </div><div class="line">cmake .. -G Ninja  </div><div class="line">ninja  </div><div class="line">ninja test  </div><div class="line">sudo ninja install</div></pre></td></tr></table></figure>
<h1 id="cartographer-ros"><a href="#cartographer-ros" class="headerlink" title="cartographer_ros"></a>cartographer_ros</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">cd ~/catkin_ws/src  </div><div class="line">git clone https://github.com/hitcm/cartographer_ros.git  </div><div class="line">cd ..  </div><div class="line">catkin_make</div></pre></td></tr></table></figure>
<h1 id="Run"><a href="#Run" class="headerlink" title="Run!"></a>Run!</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">roslaunch cartographer_ros demo_backpack_2d.launch bag_filename:=$&#123;HOME&#125;/Downloads/cartographer_paper_deutsches_museum.bag  </div><div class="line">roslaunch cartographer_ros demo_backpack_3d.launch bag_filename:=$&#123;HOME&#125;/Downloads/cartographer_3d_deutsches_museum.bag</div></pre></td></tr></table></figure>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p><a href="http://www.cnblogs.com/hitcm/p/5939507.html" target="_blank" rel="external">http://www.cnblogs.com/hitcm/p/5939507.html</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/izumi.jpg"
               alt="Izumi" />
          <p class="site-author-name" itemprop="name">Izumi</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">tags</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Izumi</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

  

</body>
</html>
